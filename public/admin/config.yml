backend:
  name: github
  repo: leviszaboo/luigisimiani.com
  branch: main

local_backend: true

media_folder: public/images/galleries
public_folder: /images/galleries

publish_mode: editorial_workflow

collections:
  # ─── Galleries ────────────────────────────────────────
  # Matches: Gallery page (gallery/page.tsx) + Gallery detail ([id]/page.tsx)
  # Components: Gallery/GalleryGrid, Gallery/GalleryView
  - name: galleries
    label: Galleries
    folder: content/gallery
    create: true
    slug: "{{slug}}"
    extension: json
    format: json
    sortable_fields: [title, date, category]
    fields:
      - name: id
        label: ID
        widget: string
        pattern: ["^[a-z0-9-]+$", "Lowercase letters, numbers, and hyphens only"]
      - name: title
        label: Title
        widget: string
      - name: subTitle
        label: Subtitle
        widget: string
        required: false
      - name: date
        label: Date
        widget: datetime
        date_format: "YYYY-MM-DD"
        time_format: false
        hint: "Used for sorting galleries"
      - name: coverPhoto
        label: Cover Photo
        widget: image
        required: false
        hint: "Main thumbnail for gallery list and fallback for Featured Work"
      - name: featuredImage
        label: Featured Image
        widget: object
        required: false
        hint: "Separate landscape/portrait images for the Featured Work grid on the homepage"
        fields:
          - name: desktop
            label: Desktop (Landscape)
            widget: image
            required: false
            hint: "Landscape image shown on desktop in Featured Work grid"
          - name: mobile
            label: Mobile (Portrait)
            widget: image
            required: false
            hint: "Portrait image shown on mobile in Featured Work grid"
      - name: imageUrls
        label: Images
        widget: list
        summary: "{{fields.url}}"
        minimize_collapsed: true
        field: { name: url, label: Image, widget: image, media_library: { allow_multiple: true } }
      - name: category
        label: Category
        widget: select
        options: ["digital", "analog", "fashion", "editorial", "event", "portrait", "product", "wedding"]
        hint: "Primary category for this gallery"
      - name: tags
        label: Tags
        widget: list
        required: false
        hint: "Layout: 'hero'/'featured' (full), 'editorial'/'pair' (half), 'portrait'/'small' (third). Special: 'hidden' (hides from listings), 'downloadable' (adds download ZIP button), 'protect' (disables flower bypass on password page)"
      - name: password
        label: Password
        widget: string
        required: false
        hint: "Leave blank for public, set password to protect"

  # ─── Home Page ────────────────────────────────────────
  # Matches: Home page (page.jsx)
  # Components: Home/HeroSlideshow, Home/FeaturedWork
  - name: home
    label: Home
    files:
      - name: hero-slideshow
        label: Hero Slideshow
        file: content/home/hero-slideshow.json
        fields:
          - name: heroTitle
            label: Hero Title
            widget: string
            required: false
            hint: "Optional title displayed over the hero slideshow"
          - name: galleries
            label: Hero Galleries
            widget: list
            hint: "Select galleries for the hero slideshow. Uses cover photo from each gallery."
            field:
              name: galleryId
              label: Gallery
              widget: relation
              collection: galleries
              search_fields: [title, id]
              value_field: id
              display_fields: [title]

      - name: featured-work
        label: Featured Work
        file: content/home/featured-work.json
        fields:
          - name: title
            label: Section Title
            widget: string
            default: "Featured Work"
            hint: "Title for the featured work section"
          - name: galleries
            label: Work
            widget: list
            hint: "Select galleries to feature. Uses featuredImage (landscape/portrait) or cover photo."
            field:
              name: galleryId
              label: Gallery
              widget: relation
              collection: galleries
              search_fields: [title, id]
              value_field: id
              display_fields: [title]

      - name: quotes
        label: Quotes
        file: content/home/quotes.json
        fields:
          - name: quotes
            label: Quotes
            widget: list
            hint: "Quotes displayed between featured galleries"
            fields:
              - { name: id, label: ID, widget: string }
              - { name: text, label: Quote Text, widget: text }
              - { name: author, label: Author, widget: string, required: false }

  # ─── About Page ───────────────────────────────────────
  # Matches: About Me page (about-me/page.jsx)
  # Components: AboutMe/ScrollingQuote, AboutMe/FilmStrip, AboutMe/HeroSection
  - name: about
    label: About
    files:
      - name: bio
        label: Bio
        file: content/about/bio.json
        fields:
          - name: paragraphs
            label: Paragraphs
            label_singular: Paragraph
            widget: list
            hint: "Bio paragraphs in display order"
            fields:
              - name: id
                label: ID
                widget: string
              - name: value
                label: Text
                widget: text

      - name: film-strip
        label: Film Strip
        file: content/about/film-strip.json
        fields:
          - name: images
            label: Images
            widget: list
            hint: "Film strip images displayed in the hero section of the About page"
            fields:
              - name: url
                label: Image
                widget: image
              - name: orientation
                label: Orientation
                widget: select
                options: ["vertical", "horizontal"]
              - name: aspectRatio
                label: Aspect Ratio
                widget: number
                value_type: float
                min: 0.1
                max: 10
                hint: "Width divided by height (e.g. 0.67 for portrait, 1.5 for landscape)"

  # ─── Contact Page ─────────────────────────────────────
  # Matches: Contact page (contact/page.jsx)
  # Components: Contact/ContactPage, Contact/InfoBox
  - name: contact
    label: Contact
    files:
      - name: contact-info
        label: Contact Info
        file: content/contact/contact.json
        fields:
          - name: email
            label: Email
            widget: string
          - name: location
            label: Location
            widget: string
          - name: instagram
            label: Instagram Handle
            widget: string
            required: false
            hint: "Without @ symbol"
          - name: linkedin
            label: LinkedIn URL
            widget: string
            required: false
            hint: "Full LinkedIn profile URL"
